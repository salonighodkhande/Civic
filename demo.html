<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CivicConnect - Smart Civic Engagement Platform</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px 30px;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .logo {
            font-size: 2.5em;
            font-weight: bold;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .nav-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 50px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .section:hover {
            transform: translateY(-5px);
        }

        .section-title {
            font-size: 1.8em;
            margin-bottom: 20px;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
        }

        .form-control {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e1e8ff;
            border-radius: 12px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .btn {
            padding: 14px 28px;
            border: none;
            border-radius: 50px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            cursor: pointer;
            font-weight: 600;
            font-size: 16px;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .btn-secondary {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
        }

        .btn-success {
            background: linear-gradient(45deg, #00b894, #00cec9);
        }

        #map {
            height: 400px;
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .issue-card {
            background: #f8f9ff;
            border: 2px solid #e1e8ff;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
            position: relative;
        }

        .issue-card:hover {
            border-color: #667eea;
            transform: translateX(5px);
        }

        .issue-status {
            position: absolute;
            top: 15px;
            right: 15px;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-reported {
            background: #fff3cd;
            color: #856404;
        }

        .status-progress {
            background: #d1ecf1;
            color: #0c5460;
        }

        .status-resolved {
            background: #d4edda;
            color: #155724;
        }

        .gamification {
            background: linear-gradient(135deg, #ffeaa7, #fdcb6e);
            color: #2d3436;
            text-align: center;
            padding: 25px;
            border-radius: 20px;
            margin-bottom: 20px;
        }

        .points-display {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .badge {
            display: inline-block;
            padding: 8px 16px;
            margin: 5px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
        }

        .ai-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .ai-card {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 25px;
            border-radius: 20px;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .ai-card:hover {
            transform: scale(1.05);
        }

        .ai-card h3 {
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .voice-input {
            background: linear-gradient(135deg, #fd79a8, #e84393);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-top: 15px;
            text-align: center;
        }

        .priority-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 8px;
        }

        .priority-high { background: #e74c3c; }
        .priority-medium { background: #f39c12; }
        .priority-low { background: #27ae60; }

        .verification-score {
            background: #e8f5e8;
            color: #2e7d32;
            padding: 4px 8px;
            border-radius: 10px;
            font-size: 12px;
            font-weight: 600;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            header {
                flex-direction: column;
                gap: 15px;
            }
            
            .nav {
                justify-content: center;
            }
        }

        .full-width {
            grid-column: 1 / -1;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: linear-gradient(135deg, #a8edea, #fed6e3);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            color: #2d3436;
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 20px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .close {
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            color: #999;
        }

        .close:hover {
            color: #333;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                üèõ CivicConnect
            </div>
            <nav class="nav">
                <button class="nav-btn" onclick="showSection('report')">Report Issue</button>
                <button class="nav-btn" onclick="showSection('dashboard')">Dashboard</button>
                <button class="nav-btn" onclick="showSection('profile')">Profile</button>
                <button class="nav-btn" onclick="showSection('admin')">Admin</button>
            </nav>
        </header>

        <!-- Gamification Section -->
        <div class="gamification">
            <div class="points-display" id="userPoints">1,250 Points</div>
            <div>üèÜ Trusted Reporter | üåü Community Hero | üìç Local Guardian</div>
            <div class="badge">Level 5 Citizen</div>
            <div class="badge">15 Issues Resolved</div>
            <div class="badge">98% Accuracy Rate</div>
        </div>

        <!-- Stats Overview -->
        <div class="section full-width">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">2,847</div>
                    <div>Total Reports</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">1,923</div>
                    <div>Resolved</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">324</div>
                    <div>In Progress</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">4.2 days</div>
                    <div>Avg Resolution</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">89%</div>
                    <div>Satisfaction Rate</div>
                </div>
            </div>
        </div>

        <div class="main-content" id="mainContent">
            <!-- Report Issue Section -->
            <div class="section" id="reportSection">
                <h2 class="section-title">üö® Report New Issue</h2>
                <form id="reportForm">
                    <div class="form-group">
                        <label for="issueType">Issue Category</label>
                        <select class="form-control" id="issueType">
                            <option value="">Select Category</option>
                            <option value="pothole">üï≥ Pothole</option>
                            <option value="garbage">üóë Garbage/Waste</option>
                            <option value="streetlight">üí° Street Light</option>
                            <option value="water">üíß Water Supply</option>
                            <option value="drainage">üåä Drainage</option>
                            <option value="road">üõ£ Road Damage</option>
                            <option value="other">üìù Other</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="description">Description</label>
                        <textarea class="form-control" id="description" rows="3" placeholder="Describe the issue in detail..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="location">Location</label>
                        <input type="text" class="form-control" id="location" placeholder="Auto-detected: Current Location">
                    </div>
                    
                    <div class="form-group">
                        <label for="photo">Upload Photo/Video</label>
                        <input type="file" class="form-control" id="photo" accept="image/,video/" multiple>
                    </div>

                    <div class="voice-input">
                        <h4>üé§ Voice Report (Hindi/English)</h4>
                        <button type="button" class="btn" id="voiceBtn">Start Voice Recording</button>
                        <p style="margin-top: 10px; font-size: 14px;">Perfect for users with limited digital literacy</p>
                    </div>
                    
                    <button type="submit" class="btn" style="width: 100%; margin-top: 20px;">
                        üöÄ Submit Report
                    </button>
                </form>
            </div>

            <!-- Live Issues Map -->
            <div class="section">
                <h2 class="section-title">üó∫ Live Issues Map</h2>
                <div id="map"></div>
                <div style="margin-top: 15px;">
                    <button class="btn btn-secondary" onclick="predictiveAnalysis()">
                        ü§ñ Show Predictive Hotspots
                    </button>
                    <button class="btn btn-success" onclick="showResolutionPath()">
                        üìä Resolution Analytics
                    </button>
                </div>
            </div>

            <!-- Recent Issues Feed -->
            <div class="section">
                <h2 class="section-title">üìã Recent Issues</h2>
                <div id="issuesFeed">
                    <div class="issue-card">
                        <div class="issue-status status-progress">In Progress</div>
                        <div style="margin-bottom: 10px;">
                            <span class="priority-indicator priority-high"></span>
                            <strong>Large Pothole - MG Road</strong>
                        </div>
                        <p style="color: #666; margin-bottom: 10px;">Reported by: Rahul S. | ID: #CVX2847</p>
                        <p style="font-size: 14px;">Deep pothole causing traffic issues. üì∏ Photo verified</p>
                        <div style="margin-top: 10px;">
                            <span class="verification-score">‚úÖ 15 Verifications</span>
                            <button class="btn" style="float: right; padding: 6px 12px; font-size: 12px;" onclick="verifyIssue('CVX2847')">
                                üëç Verify Issue
                            </button>
                        </div>
                    </div>

                    <div class="issue-card">
                        <div class="issue-status status-resolved">Resolved</div>
                        <div style="margin-bottom: 10px;">
                            <span class="priority-indicator priority-medium"></span>
                            <strong>Broken Street Light - Park Street</strong>
                        </div>
                        <p style="color: #666; margin-bottom: 10px;">Reported by: Priya M. | ID: #CVX2845</p>
                        <p style="font-size: 14px;">Fixed within 2 days! Great response time. üéâ</p>
                        <div style="margin-top: 10px;">
                            <span class="verification-score">‚úÖ 8 Verifications</span>
                            <span style="float: right; font-size: 12px; color: #27ae60;">
                                Resolved by: Municipal Corp | Cost: ‚Çπ2,400
                            </span>
                        </div>
                    </div>

                    <div class="issue-card">
                        <div class="issue-status status-reported">AI Detected</div>
                        <div style="margin-bottom: 10px;">
                            <span class="priority-indicator priority-high"></span>
                            <strong>Predicted Waterlogging Risk - Low Lying Areas</strong>
                        </div>
                        <p style="color: #666; margin-bottom: 10px;">Generated by: AI Prediction System</p>
                        <p style="font-size: 14px;">High probability of waterlogging based on weather forecast and historical data</p>
                        <div style="margin-top: 10px;">
                            <button class="btn" style="padding: 6px 12px; font-size: 12px;">
                                üö® Alert Authorities
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- AI Features Showcase -->
            <div class="section">
                <h2 class="section-title">ü§ñ AI-Powered Features</h2>
                <div class="ai-features">
                    <div class="ai-card">
                        <h3>üîÑ Duplicate Detection</h3>
                        <p>Automatically merges similar reports and boosts priority based on community reporting</p>
                    </div>
                    <div class="ai-card">
                        <h3>üè∑ Smart Categorization</h3>
                        <p>AI analyzes photos and descriptions to suggest categories and priority levels</p>
                    </div>
                    <div class="ai-card">
                        <h3>üìä Predictive Analytics</h3>
                        <p>Forecasts potential issues based on weather, historical data, and patterns</p>
                    </div>
                    <div class="ai-card">
                        <h3>‚úÖ Community Verification</h3>
                        <p>Crowdsourced validation system with trust scores and accuracy tracking</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Admin Panel (Hidden by default) -->
        <div class="section full-width" id="adminPanel" style="display: none;">
            <h2 class="section-title">‚öô Admin Dashboard</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                <div>
                    <h3>üìä Analytics Overview</h3>
                    <div class="issue-card">
                        <h4>Resolution Efficiency</h4>
                        <p>Average resolution time: 4.2 days</p>
                        <p>Success rate: 89%</p>
                        <p>Cost savings through AI: ‚Çπ2.4L this month</p>
                    </div>
                    <div class="issue-card">
                        <h4>üî• Hotspot Areas</h4>
                        <p>MG Road: 23 active issues</p>
                        <p>City Center: 18 active issues</p>
                        <p>Industrial Area: 15 active issues</p>
                    </div>
                </div>
                <div>
                    <h3>üõ† Government Integration</h3>
                    <div class="issue-card">
                        <h4>API Connections</h4>
                        <p>‚úÖ IGRS Portal Integration</p>
                        <p>‚úÖ Municipal Database Sync</p>
                        <p>‚úÖ Budget Tracking System</p>
                        <button class="btn">View Integration Logs</button>
                    </div>
                    <div class="issue-card">
                        <h4>üì± SMS/Voice Gateway</h4>
                        <p>Reports via SMS: 234 this week</p>
                        <p>Voice reports processed: 89</p>
                        <p>Multi-language support: 8 languages</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for detailed views -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <div id="modalContent"></div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js"></script>
    <script>
        // Language translations - Expanded for complete multilingual support
        const translations = {
            en: {
                logo: "üèõ CivicConnect",
                reportIssue: "Report Issue",
                dashboard: "Dashboard",
                profile: "Profile", 
                admin: "Admin",
                gamificationTitle: "1,250 Points",
                badges: "üèÜ Trusted Reporter | üåü Community Hero | üìç Local Guardian",
                level5Citizen: "Level 5 Citizen",
                issuesResolved: "15 Issues Resolved",
                accuracyRate: "98% Accuracy Rate",
                liveIssuesMap: "üó∫ Live Issues Map",
                showPredictive: "ü§ñ Show Predictive Hotspots",
                resolutionAnalytics: "üìä Resolution Analytics",
                recentIssues: "üìã Recent Issues",
                aiPoweredFeatures: "ü§ñ AI-Powered Features",
                duplicateDetection: "üîÑ Duplicate Detection",
                smartCategorization: "üè∑ Smart Categorization", 
                predictiveAnalytics: "üìä Predictive Analytics",
                communityVerification: "‚úÖ Community Verification",
                duplicateDetectionDesc: "Automatically merges similar reports and boosts priority based on community reporting",
                smartCategorizationDesc: "AI analyzes photos and descriptions to suggest categories and priority levels",
                predictiveAnalyticsDesc: "Forecasts potential issues based on weather, historical data, and patterns",
                communityVerificationDesc: "Crowdsourced validation system with trust scores and accuracy tracking",
                inProgress: "In Progress",
                resolved: "Resolved",
                aiDetected: "AI Detected",
                reported: "Reported",
                verifyIssue: "üëç Verify Issue",
                verifications: "Verifications",
                alertAuthorities: "üö® Alert Authorities",
                resolvedBy: "Resolved by",
                cost: "Cost",
                largePothole: "Large Pothole - MG Road",
                brokenStreetlight: "Broken Street Light - Park Street",
                predictedWaterlogging: "Predicted Waterlogging Risk - Low Lying Areas",
                reportedBy: "Reported by",
                photoVerified: "üì∏ Photo verified",
                fixedWithin: "Fixed within 2 days! Great response time. üéâ",
                municipalCorp: "Municipal Corp",
                generatedBy: "Generated by",
                aiPredictionSystem: "AI Prediction System",
                highProbability: "High probability of waterlogging based on weather forecast and historical data",
                adminDashboard: "‚öô Admin Dashboard",
                analyticsOverview: "üìä Analytics Overview",
                resolutionEfficiency: "Resolution Efficiency",
                avgResolutionTime: "Average resolution time: 4.2 days",
                successRate: "Success rate: 89%",
                costSavings: "Cost savings through AI: ‚Çπ2.4L this month",
                hotspotAreas: "üî• Hotspot Areas",
                mgRoadIssues: "MG Road: 23 active issues",
                cityCenterIssues: "City Center: 18 active issues", 
                industrialAreaIssues: "Industrial Area: 15 active issues",
                governmentIntegration: "üõ† Government Integration",
                apiConnections: "API Connections",
                igrsIntegration: "‚úÖ IGRS Portal Integration",
                municipalSync: "‚úÖ Municipal Database Sync",
                budgetTracking: "‚úÖ Budget Tracking System",
                viewLogs: "View Integration Logs",
                smsVoiceGateway: "üì± SMS/Voice Gateway",
                smsReports: "Reports via SMS: 234 this week",
                voiceReports: "Voice reports processed: 89",
                multiLanguage: "Multi-language support: 8 languages"
            },
            hi: {
                logo: "üèõ ‡§®‡§æ‡§ó‡§∞‡§ø‡§ï ‡§ï‡§®‡•á‡§ï‡•ç‡§ü",
                reportIssue: "‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç",
                dashboard: "‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§°",
                profile: "‡§™‡•ç‡§∞‡•ã‡§´‡§æ‡§á‡§≤",
                admin: "‡§™‡•ç‡§∞‡§∂‡§æ‡§∏‡§®",
                gamificationTitle: "1,250 ‡§Ö‡§Ç‡§ï",
                badges: "üèÜ ‡§µ‡§ø‡§∂‡•ç‡§µ‡§∏‡§®‡•Ä‡§Ø ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü‡§∞ | üåü ‡§∏‡§æ‡§Æ‡•Å‡§¶‡§æ‡§Ø‡§ø‡§ï ‡§π‡•Ä‡§∞‡•ã | üìç ‡§∏‡•ç‡§•‡§æ‡§®‡•Ä‡§Ø ‡§ó‡§æ‡§∞‡•ç‡§ú‡§ø‡§Ø‡§®",
                level5Citizen: "‡§∏‡•ç‡§§‡§∞ 5 ‡§®‡§æ‡§ó‡§∞‡§ø‡§ï",
                issuesResolved: "15 ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ‡§è‡§Ç ‡§π‡§≤ ‡§ï‡•Ä ‡§ó‡§à‡§Ç",
                accuracyRate: "98% ‡§∏‡§ü‡•Ä‡§ï‡§§‡§æ ‡§¶‡§∞",
                liveIssuesMap: "üó∫ ‡§≤‡§æ‡§á‡§µ ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§Æ‡•à‡§™",
                showPredictive: "ü§ñ ‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø‡§µ‡§æ‡§£‡•Ä ‡§π‡•â‡§ü‡§∏‡•ç‡§™‡•â‡§ü ‡§¶‡§ø‡§ñ‡§æ‡§è‡§Ç",
                resolutionAnalytics: "üìä ‡§∏‡§Æ‡§æ‡§ß‡§æ‡§® ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£",
                recentIssues: "üìã ‡§π‡§æ‡§≤ ‡§ï‡•Ä ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ‡§è‡§Ç",
                aiPoweredFeatures: "ü§ñ ‡§è‡§Ü‡§à-‡§∏‡§Ç‡§ö‡§æ‡§≤‡§ø‡§§ ‡§∏‡•Å‡§µ‡§ø‡§ß‡§æ‡§è‡§Ç",
                duplicateDetection: "üîÑ ‡§°‡•Å‡§™‡•ç‡§≤‡§ø‡§ï‡•á‡§ü ‡§™‡§π‡§ö‡§æ‡§®",
                smartCategorization: "üè∑ ‡§∏‡•ç‡§Æ‡§æ‡§∞‡•ç‡§ü ‡§µ‡§∞‡•ç‡§ó‡•Ä‡§ï‡§∞‡§£",
                predictiveAnalytics: "üìä ‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø‡§µ‡§æ‡§£‡•Ä ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£",
                communityVerification: "‚úÖ ‡§∏‡§æ‡§Æ‡•Å‡§¶‡§æ‡§Ø‡§ø‡§ï ‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§®",
                duplicateDetectionDesc: "‡§∏‡§Æ‡§æ‡§® ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü‡•ã‡§Ç ‡§ï‡•ã ‡§∏‡•ç‡§µ‡§ö‡§æ‡§≤‡§ø‡§§ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§Æ‡§ø‡§≤‡§æ‡§§‡§æ ‡§π‡•à ‡§î‡§∞ ‡§∏‡§æ‡§Æ‡•Å‡§¶‡§æ‡§Ø‡§ø‡§ï ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü‡§ø‡§Ç‡§ó ‡§ï‡•á ‡§Ü‡§ß‡§æ‡§∞ ‡§™‡§∞ ‡§™‡•ç‡§∞‡§æ‡§•‡§Æ‡§ø‡§ï‡§§‡§æ ‡§¨‡§¢‡§º‡§æ‡§§‡§æ ‡§π‡•à",
                smartCategorizationDesc: "‡§è‡§Ü‡§à ‡§´‡•ã‡§ü‡•ã ‡§î‡§∞ ‡§µ‡§ø‡§µ‡§∞‡§£ ‡§ï‡§æ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§ï‡§∞‡§ï‡•á ‡§∂‡•ç‡§∞‡•á‡§£‡§ø‡§Ø‡§æ‡§Ç ‡§î‡§∞ ‡§™‡•ç‡§∞‡§æ‡§•‡§Æ‡§ø‡§ï‡§§‡§æ ‡§∏‡•ç‡§§‡§∞ ‡§∏‡•Å‡§ù‡§æ‡§§‡§æ ‡§π‡•à",
                predictiveAnalyticsDesc: "‡§Æ‡•å‡§∏‡§Æ, ‡§ê‡§§‡§ø‡§π‡§æ‡§∏‡§ø‡§ï ‡§°‡•á‡§ü‡§æ ‡§î‡§∞ ‡§™‡•à‡§ü‡§∞‡•ç‡§® ‡§ï‡•á ‡§Ü‡§ß‡§æ‡§∞ ‡§™‡§∞ ‡§∏‡§Ç‡§≠‡§æ‡§µ‡§ø‡§§ ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ‡§ì‡§Ç ‡§ï‡•Ä ‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø‡§µ‡§æ‡§£‡•Ä ‡§ï‡§∞‡§§‡§æ ‡§π‡•à",
                communityVerificationDesc: "‡§µ‡§ø‡§∂‡•ç‡§µ‡§æ‡§∏ ‡§∏‡•ç‡§ï‡•ã‡§∞ ‡§î‡§∞ ‡§∏‡§ü‡•Ä‡§ï‡§§‡§æ ‡§ü‡•ç‡§∞‡•à‡§ï‡§ø‡§Ç‡§ó ‡§ï‡•á ‡§∏‡§æ‡§• ‡§ï‡•ç‡§∞‡§æ‡§â‡§°‡§∏‡•ã‡§∞‡•ç‡§∏‡•ç‡§° ‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§® ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä",
                inProgress: "‡§™‡•ç‡§∞‡§ó‡§§‡§ø ‡§Æ‡•á‡§Ç",
                resolved: "‡§π‡§≤ ‡§π‡•ã ‡§ó‡§à",
                aiDetected: "‡§è‡§Ü‡§à ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§™‡§π‡§ö‡§æ‡§®‡•Ä ‡§ó‡§à",
                reported: "‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§ï‡•Ä ‡§ó‡§à",
                verifyIssue: "üëç ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç",
                verifications: "‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§®",
                alertAuthorities: "üö® ‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•ã ‡§Ö‡§≤‡§∞‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç",
                resolvedBy: "‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§π‡§≤ ‡§ï‡•Ä ‡§ó‡§à",
                cost: "‡§≤‡§æ‡§ó‡§§",
                largePothole: "‡§¨‡§°‡§º‡§æ ‡§ó‡§°‡•ç‡§¢‡§æ - ‡§è‡§Æ‡§ú‡•Ä ‡§∞‡•ã‡§°",
                brokenStreetlight: "‡§ü‡•Ç‡§ü‡•Ä ‡§∏‡•ç‡§ü‡•ç‡§∞‡•Ä‡§ü ‡§≤‡§æ‡§á‡§ü - ‡§™‡§æ‡§∞‡•ç‡§ï ‡§∏‡•ç‡§ü‡•ç‡§∞‡•Ä‡§ü",
                predictedWaterlogging: "‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø‡§µ‡§æ‡§£‡•Ä ‡§ú‡§≤ ‡§≠‡§∞‡§æ‡§µ ‡§ú‡•ã‡§ñ‡§ø‡§Æ - ‡§®‡§ø‡§ö‡§≤‡•á ‡§á‡§≤‡§æ‡§ï‡•á",
                reportedBy: "‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§ï‡•Ä ‡§ó‡§à",
                photoVerified: "üì∏ ‡§´‡•ã‡§ü‡•ã ‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§ø‡§§",
                fixedWithin: "2 ‡§¶‡§ø‡§®‡•ã‡§Ç ‡§ï‡•á ‡§Ö‡§Ç‡§¶‡§∞ ‡§†‡•Ä‡§ï! ‡§¨‡•á‡§π‡§§‡§∞‡•Ä‡§® ‡§™‡•ç‡§∞‡§§‡§ø‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§∏‡§Æ‡§Ø‡•§ üéâ",
                municipalCorp: "‡§®‡§ó‡§∞ ‡§®‡§ø‡§ó‡§Æ",
                generatedBy: "‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§ú‡•á‡§®‡•á‡§∞‡•á‡§ü ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ",
                aiPredictionSystem: "‡§è‡§Ü‡§à ‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø‡§µ‡§æ‡§£‡•Ä ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä",
                highProbability: "‡§Æ‡•å‡§∏‡§Æ ‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§®‡•Å‡§Æ‡§æ‡§® ‡§î‡§∞ ‡§ê‡§§‡§ø‡§π‡§æ‡§∏‡§ø‡§ï ‡§°‡•á‡§ü‡§æ ‡§ï‡•á ‡§Ü‡§ß‡§æ‡§∞ ‡§™‡§∞ ‡§ú‡§≤ ‡§≠‡§∞‡§æ‡§µ ‡§ï‡•Ä ‡§â‡§ö‡•ç‡§ö ‡§∏‡§Ç‡§≠‡§æ‡§µ‡§®‡§æ",
                adminDashboard: "‚öô ‡§™‡•ç‡§∞‡§∂‡§æ‡§∏‡§® ‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§°",
                analyticsOverview: "üìä ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§Ö‡§µ‡§≤‡•ã‡§ï‡§®",
                resolutionEfficiency: "‡§∏‡§Æ‡§æ‡§ß‡§æ‡§® ‡§¶‡§ï‡•ç‡§∑‡§§‡§æ",
                avgResolutionTime: "‡§î‡§∏‡§§ ‡§∏‡§Æ‡§æ‡§ß‡§æ‡§® ‡§∏‡§Æ‡§Ø: 4.2 ‡§¶‡§ø‡§®",
                successRate: "‡§∏‡§´‡§≤‡§§‡§æ ‡§¶‡§∞: 89%",
                costSavings: "‡§è‡§Ü‡§à ‡§ï‡•á ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ ‡§∏‡•á ‡§≤‡§æ‡§ó‡§§ ‡§¨‡§ö‡§§: ‚Çπ2.4L ‡§á‡§∏ ‡§Æ‡§π‡•Ä‡§®‡•á",
                hotspotAreas: "üî• ‡§π‡•â‡§ü‡§∏‡•ç‡§™‡•â‡§ü ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞",
                mgRoadIssues: "‡§è‡§Æ‡§ú‡•Ä ‡§∞‡•ã‡§°: 23 ‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ‡§è‡§Ç",
                cityCenterIssues: "‡§∏‡§ø‡§ü‡•Ä ‡§∏‡•á‡§Ç‡§ü‡§∞: 18 ‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ‡§è‡§Ç",
                industrialAreaIssues: "‡§î‡§¶‡•ç‡§Ø‡•ã‡§ó‡§ø‡§ï ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞: 15 ‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ‡§è‡§Ç",
                governmentIntegration: "üõ† ‡§∏‡§∞‡§ï‡§æ‡§∞‡•Ä ‡§è‡§ï‡•Ä‡§ï‡§∞‡§£",
                apiConnections: "‡§è‡§™‡•Ä‡§Ü‡§à ‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§®",
                igrsIntegration: "‚úÖ ‡§Ü‡§à‡§ú‡•Ä‡§Ü‡§∞‡§è‡§∏ ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤ ‡§è‡§ï‡•Ä‡§ï‡§∞‡§£",
                municipalSync: "‚úÖ ‡§®‡§ó‡§∞‡§™‡§æ‡§≤‡§ø‡§ï‡§æ ‡§°‡•á‡§ü‡§æ‡§¨‡•á‡§∏ ‡§∏‡§ø‡§Ç‡§ï",
                budgetTracking: "‚úÖ ‡§¨‡§ú‡§ü ‡§ü‡•ç‡§∞‡•à‡§ï‡§ø‡§Ç‡§ó ‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ",
                viewLogs: "‡§è‡§ï‡•Ä‡§ï‡§∞‡§£ ‡§≤‡•â‡§ó ‡§¶‡•á‡§ñ‡•á‡§Ç",
                smsVoiceGateway: "üì± ‡§è‡§∏‡§è‡§Æ‡§è‡§∏/‡§Ü‡§µ‡§æ‡§ú‡§º ‡§ó‡•á‡§ü‡§µ‡•á",
                smsReports: "‡§è‡§∏‡§è‡§Æ‡§è‡§∏ ‡§ï‡•á ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ ‡§∏‡•á ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü: ‡§á‡§∏ ‡§∏‡§™‡•ç‡§§‡§æ‡§π 234",
                voiceReports: "‡§Ü‡§µ‡§æ‡§ú‡§º ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§™‡•ç‡§∞‡•ã‡§∏‡•á‡§∏ ‡§ï‡•Ä ‡§ó‡§à: 89",
                multiLanguage: "‡§¨‡§π‡•Å-‡§≠‡§æ‡§∑‡§æ ‡§∏‡§Æ‡§∞‡•ç‡§•‡§®: 8 ‡§≠‡§æ‡§∑‡§æ‡§è‡§Ç"
            }
        };

        let currentLanguage = 'en';

        // Change language function
        function changeLanguage() {
            const selector = document.getElementById('languageSelector');
            currentLanguage = selector.value;
            updateLanguage();
        }

        function updateLanguage() {
            const t = translations[currentLanguage];
            
            // Update header elements
            document.querySelector('.logo').innerHTML = t.logo;
            
            // Update navigation buttons
            const navButtons = document.querySelectorAll('.nav-btn');
            navButtons[0].textContent = t.reportIssue;
            navButtons[1].textContent = t.dashboard;
            navButtons[2].textContent = t.profile;
            navButtons[3].textContent = t.admin;
            
            // Update gamification section
            document.querySelector('.gamification div:nth-child(2)').innerHTML = t.badges;
            const badges = document.querySelectorAll('.badge');
            if (badges.length >= 3) {
                badges[0].textContent = t.level5Citizen;
                badges[1].textContent = t.issuesResolved;
                badges[2].textContent = t.accuracyRate;
            }
            
            // Update map section
            document.querySelectorAll('.section-title')[0].innerHTML = t.liveIssuesMap;
            document.querySelector('.btn-secondary').innerHTML = t.showPredictive;
            document.querySelector('.btn-success').innerHTML = t.resolutionAnalytics;
            
            // Update recent issues section
            document.querySelectorAll('.section-title')[1].innerHTML = t.recentIssues;
            
            // Update issue cards
            const issueCards = document.querySelectorAll('.issue-card');
            if (issueCards.length >= 3) {
                // First issue card
                issueCards[0].querySelector('.issue-status').textContent = t.inProgress;
                issueCards[0].querySelector('strong').textContent = t.largePothole;
                issueCards[0].querySelector('p').innerHTML = t.reportedBy + ": Rahul S. | ID: #CVX2847";
                issueCards[0].querySelectorAll('p')[1].textContent = `Deep pothole causing traffic issues. ${t.photoVerified}`;
                issueCards[0].querySelector('.verification-score').innerHTML = `‚úÖ 15 ${t.verifications}`;
                issueCards[0].querySelector('button').innerHTML = t.verifyIssue;
                
                // Second issue card  
                issueCards[1].querySelector('.issue-status').textContent = t.resolved;
                issueCards[1].querySelector('strong').textContent = t.brokenStreetlight;
                issueCards[1].querySelector('p').innerHTML = `${t.reportedBy}: Priya M. | ID: #CVX2845`;
                issueCards[1].querySelectorAll('p')[1].textContent = t.fixedWithin;
                issueCards[1].querySelector('.verification-score').innerHTML = `‚úÖ 8 ${t.verifications}`;
                issueCards[1].querySelector('span[style*="float: right"]').innerHTML = t.resolvedBy + ": " + t.municipalCorp + " | " + t.cost + ": ‚Çπ2,400";
                
                // Third issue card
                issueCards[2].querySelector('.issue-status').textContent = t.aiDetected;
                issueCards[2].querySelector('strong').textContent = t.predictedWaterlogging;
                issueCards[2].querySelector('p').innerHTML = `${t.generatedBy}: ${t.aiPredictionSystem}`;
                 issueCards[2].querySelectorAll('p')[1].textContent = t.highProbability;
                issueCards[2].querySelector('button').innerHTML = t.alertAuthorities;
            }
            
            // Update AI features section
            document.querySelectorAll('.section-title')[2].innerHTML = t.aiPoweredFeatures;
            
            const aiCards = document.querySelectorAll('.ai-card');
            if (aiCards.length >= 4) {
                aiCards[0].querySelector('h3').innerHTML = t.duplicateDetection;
                aiCards[0].querySelector('p').textContent = t.duplicateDetectionDesc;
                
                aiCards[1].querySelector('h3').innerHTML = t.smartCategorization;
                aiCards[1].querySelector('p').textContent = t.smartCategorizationDesc;
                
                aiCards[2].querySelector('h3').innerHTML = t.predictiveAnalytics;
                aiCards[2].querySelector('p').textContent = t.predictiveAnalyticsDesc;
                
                aiCards[3].querySelector('h3').innerHTML = t.communityVerification;
                aiCards[3].querySelector('p').textContent = t.communityVerificationDesc;
            }
            
            // Update admin panel
            const adminTitle = document.querySelector('#adminPanel .section-title');
            if (adminTitle) {
                adminTitle.innerHTML = t.adminDashboard;
                
                // Update admin section content
                const adminSections = document.querySelectorAll('#adminPanel h3');
                if (adminSections.length >= 2) {
                    adminSections[0].innerHTML = t.analyticsOverview;
                    adminSections[1].innerHTML = t.governmentIntegration;
                }
                
                // Update admin cards
                const adminCards = document.querySelectorAll('#adminPanel .issue-card');
                if (adminCards.length >= 4) {
                    adminCards[0].querySelector('h4').textContent = t.resolutionEfficiency;
                    adminCards[0].querySelectorAll('p')[0].textContent = t.avgResolutionTime;
                    adminCards[0].querySelectorAll('p')[1].textContent = t.successRate;
                    adminCards[0].querySelectorAll('p')[2].textContent = t.costSavings;
                    
                    adminCards[1].querySelector('h4').innerHTML = t.hotspotAreas;
                    adminCards[1].querySelectorAll('p')[0].textContent = t.mgRoadIssues;
                    adminCards[1].querySelectorAll('p')[1].textContent = t.cityCenterIssues;
                    adminCards[1].querySelectorAll('p')[2].textContent = t.industrialAreaIssues;
                    
                    adminCards[2].querySelector('h4').textContent = t.apiConnections;
                    adminCards[2].querySelectorAll('p')[0].textContent = t.igrsIntegration;
                    adminCards[2].querySelectorAll('p')[1].textContent = t.municipalSync;
                    adminCards[2].querySelectorAll('p')[2].textContent = t.budgetTracking;
                    adminCards[2].querySelector('button').textContent = t.viewLogs;
                    
                    adminCards[3].querySelector('h4').innerHTML = t.smsVoiceGateway;
                    adminCards[3].querySelectorAll('p')[0].textContent = t.smsReports;
                    adminCards[3].querySelectorAll('p')[1].textContent = t.voiceReports;
                    adminCards[3].querySelectorAll('p')[2].textContent = t.multiLanguage;
                }
            }
        }

        // Initialize map
        let map = L.map('map').setView([21.1458, 79.0882], 13); // Nagpur coordinates

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '¬© OpenStreetMap contributors'
        }).addTo(map);

        // Sample issue markers
        const issues = [
            {lat: 21.1458, lng: 79.0882, type: 'pothole', status: 'reported', title: 'Large Pothole'},
            {lat: 21.1558, lng: 79.0782, type: 'garbage', status: 'progress', title: 'Garbage Dump'},
            {lat: 21.1358, lng: 79.0982, type: 'streetlight', status: 'resolved', title: 'Broken Light'}
        ];

        issues.forEach(issue => {
            const color = issue.status === 'resolved' ? 'green' : 
                         issue.status === 'progress' ? 'orange' : 'red';
            
            const marker = L.circleMarker([issue.lat, issue.lng], {
                radius: 8,
                fillColor: color,
                color: '#000',
                weight: 1,
                opacity: 1,
                fillOpacity: 0.8
            }).addTo(map);
            
            marker.bindPopup(`
                <b>${issue.title}</b><br>
                Type: ${issue.type}<br>
                Status: ${issue.status}<br>
                <button onclick="viewIssueDetails('${issue.title}')">View Details</button>
            `);
        });

        // Navigation functions
        function showSection(section) {
            // Hide all sections
            document.getElementById('adminPanel').style.display = 'none';
            
            if (section === 'admin') {
                document.getElementById('adminPanel').style.display = 'block';
            }
            
            // Add more section switching logic as needed
        }

        // Form submission
        document.getElementById('reportForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Simulate AI processing
            showModal(`
                <h3>ü§ñ AI Processing Your Report</h3>
                <div style="margin: 20px 0;">
                    <p>‚úÖ Photo analyzed and categorized</p>
                    <p>‚úÖ Location verified</p>
                    <p>‚úÖ Checking for duplicates...</p>
                    <p>‚úÖ Priority assigned: HIGH</p>
                    <p>‚úÖ Assigned to: Municipal Corporation</p>
                </div>
                <div style="background: #e8f5e8; padding: 15px; border-radius: 10px;">
                    <h4>Report Created Successfully!</h4>
                    <p><strong>Ticket ID:</strong> #CVX${Math.floor(Math.random() * 10000)}</p>
                    <p><strong>Estimated Resolution:</strong> 3-5 days</p>
                    <p><strong>Points Earned:</strong> +50 points</p>
                </div>
            `);
            
            // Reset form
            this.reset();
        });

        // Voice recording simulation
        document.getElementById('voiceBtn').addEventListener('click', function() {
            if (this.textContent === 'Start Voice Recording') {
                this.textContent = '‚èπ Stop Recording';
                this.style.background = 'linear-gradient(45deg, #e74c3c, #c0392b)';
                
                // Simulate recording
                setTimeout(() => {
                    this.textContent = 'Start Voice Recording';
                    this.style.background = 'linear-gradient(45deg, #667eea, #764ba2)';
                    
                    showModal(`
                        <h3>üé§ Voice Processing Complete</h3>
                        <div style="margin: 20px 0;">
                            <p><strong>Detected Language:</strong> Hindi</p>
                            <p><strong>Transcription:</strong> "‡§∏‡§°‡§º‡§ï ‡§™‡§∞ ‡§¨‡§°‡§º‡§æ ‡§ó‡§°‡•ç‡§¢‡§æ ‡§π‡•à, ‡§ú‡•ã ‡§ü‡•ç‡§∞‡•à‡§´‡§ø‡§ï ‡§ï‡•Ä ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§™‡•à‡§¶‡§æ ‡§ï‡§∞ ‡§∞‡§π‡§æ ‡§π‡•à‡•§"</p>
                            <p><strong>Translation:</strong> "There's a big pothole on the road causing traffic problems."</p>
                            <p><strong>Auto-categorized as:</strong> Pothole</p>
                        </div>
                        <button class="btn" onclick="closeModal()">Add to Report</button>
                    `);
                }, 3000);
            }
        });

        // Verification function
        function verifyIssue(issueId) {
            showModal(`
                <h3>‚úÖ Issue Verification</h3>
                <p>Thank you for verifying issue #${issueId}</p>
                <p><strong>+25 Points Earned!</strong></p>
                <p>Your verification helps improve accuracy and priority scoring.</p>
                <div style="margin-top: 20px;">
                    <label>Additional Comments (Optional):</label>
                    <textarea class="form-control" placeholder="Add any additional observations..."></textarea>
                    <button class="btn" style="margin-top: 10px;" onclick="closeModal()">Submit Verification</button>
                </div>
            `);
        }

        // Predictive analysis
        function predictiveAnalysis() {
            showModal(`
                <h3>ü§ñ AI Predictive Analysis</h3>
                <div style="margin: 20px 0;">
                    <h4>High-Risk Areas (Next 7 Days):</h4>
                    <div class="issue-card">
                        <p><strong>Waterlogging Risk:</strong> Low-lying areas near City Center</p>
                        <p><strong>Probability:</strong> 85% (Heavy rain forecasted)</p>
                        <p><strong>Recommended Action:</strong> Deploy drainage cleaning teams</p>
                    </div>
                    <div class="issue-card">
                        <p><strong>Pothole Formation:</strong> Recently repaired roads</p>
                        <p><strong>Probability:</strong> 65% (Based on material quality analysis)</p>
                        <p><strong>Recommended Action:</strong> Schedule quality inspection</p>
                    </div>
                </div>
                <button class="btn" onclick="closeModal()">Alert Authorities</button>
            `);
        }

        // Show resolution path
        function showResolutionPath() {
            showModal(`
                <h3>üìä Resolution Analytics Dashboard</h3>
                <div style="margin: 20px 0;">
                    <h4>Average Resolution Path:</h4>
                    <div style="display: flex; flex-direction: column; gap: 10px;">
                        <div style="background: #f0f8ff; padding: 10px; border-radius: 8px;">
                            <strong>Step 1:</strong> Report Received (0 hours)
                        </div>
                        <div style="background: #fff8dc; padding: 10px; border-radius: 8px;">
                            <strong>Step 2:</strong> AI Verification & Categorization (2 hours)
                        </div>
                        <div style="background: #f0fff0; padding: 10px; border-radius: 8px;">
                            <strong>Step 3:</strong> Assigned to Department (8 hours)
                        </div>
                        <div style="background: #ffe4e1; padding: 10px; border-radius: 8px;">
                            <strong>Step 4:</strong> Work Order Generated (24 hours)
                        </div>
                        <div style="background: #e6e6fa; padding: 10px; border-radius: 8px;">
                            <strong>Step 5:</strong> Issue Resolved (72-120 hours)
                        </div>
                    </div>
                    <div style="margin-top: 15px; background: #f9f9f9; padding: 15px; border-radius: 10px;">
                        <strong>Cost Efficiency:</strong> AI-powered categorization saves ‚Çπ15,000/month in manual processing
                    </div>
                </div>
            `);
        }

        // Modal functions
        function showModal(content) {
            document.getElementById('modalContent').innerHTML = content;
            document.getElementById('modal').style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('modal').style.display = 'none';
        }

        function viewIssueDetails(title) {
            showModal(`
                <h3>üìã Issue Details: ${title}</h3>
                <div style="margin: 20px 0;">
                    <div class="issue-card">
                        <p><strong>Status:</strong> <span class="status-progress">In Progress</span></p>
                        <p><strong>Priority:</strong> <span class="priority-indicator priority-high"></span>High</p>
                        <p><strong>Reported:</strong> 2 days ago by Rahul S.</p>
                        <p><strong>Location:</strong> MG Road, Near City Mall</p>
                        <p><strong>Assigned To:</strong> Road Maintenance Dept.</p>
                        <p><strong>Estimated Cost:</strong> ‚Çπ8,500</p>
                        <p><strong>Expected Resolution:</strong> 1-2 days</p>
                    </div>
                    <h4>Resolution Timeline:</h4>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 10px;">
                        <p>‚úÖ Reported (Day 1)</p>
                        <p>‚úÖ AI Verified & Categorized (Day 1)</p>
                        <p>‚úÖ Assigned to Department (Day 2)</p>
                        <p>üîÑ Work Order Issued (Day 2)</p>
                        <p>‚è≥ In Progress - Materials arranged</p>
                        <p>‚è≥ Expected completion (Day 4)</p>
                    </div>
                    <h4>Community Engagement:</h4>
                    <p><strong>Verifications:</strong> 15 users confirmed</p>
                    <p><strong>Impact Score:</strong> 89/100 (High traffic area)</p>
                </div>
                <button class="btn" onclick="closeModal()">Close</button>
            `);
        }

        // Auto-detect location
        function getCurrentLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function(position) {
                    const lat = position.coords.latitude;
                    const lng = position.coords.longitude;
                    document.getElementById('location').value = `Lat: ${lat.toFixed(6)}, Lng: ${lng.toFixed(6)}`;
                    map.setView([lat, lng], 15);
                });
            }
        }

        // Initialize location detection
        getCurrentLocation();

        // Simulate real-time updates
        setInterval(function() {
            // Update points occasionally
            const currentPoints = parseInt(document.getElementById('userPoints').textContent);
            if (Math.random() < 0.1) { // 10% chance every interval
                document.getElementById('userPoints').textContent = (currentPoints + Math.floor(Math.random() * 50)) + ' Points';
            }
        }, 5000);

        // Add some interactive features for demonstration
        function adoptSpot() {
            showModal(`
                <h3>üè† Adopt-a-Spot Program</h3>
                <div style="margin: 20px 0;">
                    <p>Become a local guardian for your community area!</p>
                    <div class="form-group">
                        <label>Select Area to Adopt:</label>
                        <select class="form-control">
                            <option>City Center Park</option>
                            <option>MG Road (1km stretch)</option>
                            <option>Residential Area - Sector 5</option>
                            <option>Market Area - Main Bazaar</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Commitment Period:</label>
                        <select class="form-control">
                            <option>3 Months</option>
                            <option>6 Months</option>
                            <option>1 Year</option>
                        </select>
                    </div>
                    <div style="background: #e8f5e8; padding: 15px; border-radius: 10px; margin: 15px 0;">
                        <h4>Benefits:</h4>
                        <p>‚Ä¢ Priority response for your adopted area</p>
                        <p>‚Ä¢ Monthly recognition certificate</p>
                        <p>‚Ä¢ 200 bonus points per month</p>
                        <p>‚Ä¢ Direct communication with local authorities</p>
                    </div>
                    <button class="btn" onclick="closeModal()">Adopt This Spot</button>
                </div>
            `);
        }

        function showChallenges() {
            showModal(`
                <h3>üèÜ Community Challenges</h3>
                <div style="margin: 20px 0;">
                    <div class="ai-card" style="margin-bottom: 15px;">
                        <h4>üåü This Month's Challenge</h4>
                        <p><strong>"Clean Street Initiative"</strong></p>
                        <p>Report and help resolve 50 garbage-related issues</p>
                        <p>Progress: 32/50 (Community-wide)</p>
                        <div style="background: rgba(255,255,255,0.3); height: 10px; border-radius: 5px; margin: 10px 0;">
                            <div style="background: #fff; height: 100%; width: 64%; border-radius: 5px;"></div>
                        </div>
                        <p><strong>Reward:</strong> ‚Çπ5,000 fund for community development</p>
                    </div>
                    
                    <div class="issue-card">
                        <h4>üéØ Personal Goals</h4>
                        <p>‚Ä¢ Report 5 issues this week (3/5 completed)</p>
                        <p>‚Ä¢ Verify 10 community reports (7/10 completed)</p>
                        <p>‚Ä¢ Maintain 95% accuracy rate (Currently: 98%)</p>
                    </div>
                    
                    <div class="issue-card">
                        <h4>üèÖ Leaderboard (This Month)</h4>
                        <p>1. Priya Sharma - 1,450 points</p>
                        <p>2. <strong>You</strong> - 1,250 points</p>
                        <p>3. Rajesh Kumar - 1,100 points</p>
                    </div>
                </div>
                <button class="btn" onclick="closeModal()">Join Challenge</button>
            `);
        }

        // Add these functions to buttons (you can add buttons to trigger them)
        document.addEventListener('DOMContentLoaded', function() {
            // Add some interactive buttons to the AI features section
            const aiSection = document.querySelector('.section:has(.ai-features)');
            if (aiSection) {
                const buttonContainer = document.createElement('div');
                buttonContainer.style.cssText = 'margin-top: 20px; text-align: center; gap: 15px; display: flex; flex-wrap: wrap; justify-content: center;';
                
                const adoptBtn = document.createElement('button');
                adoptBtn.className = 'btn btn-success';
                adoptBtn.innerHTML = 'üè† Adopt-a-Spot';
                adoptBtn.onclick = adoptSpot;
                
                const challengeBtn = document.createElement('button');
                challengeBtn.className = 'btn btn-secondary';
                challengeBtn.innerHTML = 'üèÜ View Challenges';
                challengeBtn.onclick = showChallenges;
                
                buttonContainer.appendChild(adoptBtn);
                buttonContainer.appendChild(challengeBtn);
                aiSection.appendChild(buttonContainer);
            }
        });

        // SMS/Voice simulation
        function simulateVoiceReport() {
            showModal(`
                <h3>üì± SMS/Voice Integration Demo</h3>
                <div style="margin: 20px 0;">
                    <h4>Received SMS Report:</h4>
                    <div class="issue-card">
                        <p><strong>From:</strong> +91-9876543210</p>
                        <p><strong>Message:</strong> "Sadak mein bada gadha hai. Station road pe traffic jam ho raha hai."</p>
                        <p><strong>Translated:</strong> "There's a big pothole on the road. Traffic jam happening on Station Road."</p>
                    </div>
                    
                    <h4>AI Processing Result:</h4>
                    <div style="background: #f0f8ff; padding: 15px; border-radius: 10px;">
                        <p>‚úÖ Language detected: Hindi</p>
                        <p>‚úÖ Location extracted: Station Road</p>
                        <p>‚úÖ Issue type: Pothole</p>
                        <p>‚úÖ Priority: Medium</p>
                        <p>‚úÖ Ticket created: #CVX2849</p>
                    </div>
                    
                    <h4>Follow-up SMS Sent:</h4>
                    <div class="issue-card">
                        <p><em>"Thank you for reporting! Your issue #CVX2849 has been registered. Track at civicconnect.gov.in. You'll receive updates via SMS."</em></p>
                    </div>
                </div>
                <button class="btn" onclick="closeModal()">Close</button>
            `);
        }

        // Add this to the admin panel demonstration
        function showAPIIntegration() {
            showModal(`
                <h3>üîó Government API Integration</h3>
                <div style="margin: 20px 0;">
                    <h4>Connected Systems:</h4>
                    <div class="issue-card">
                        <h5>‚úÖ IGRS (Integrated Grievance Redressal System)</h5>
                        <p>Status: Connected | Last Sync: 2 minutes ago</p>
                        <p>Reports forwarded: 1,247 this month</p>
                    </div>
                    
                    <div class="issue-card">
                        <h5>‚úÖ Municipal Database</h5>
                        <p>Status: Connected | Real-time updates</p>
                        <p>Work orders generated: 856</p>
                        <p>Budget allocated: ‚Çπ24,50,000</p>
                    </div>
                    
                    <div class="issue-card">
                        <h5>‚úÖ Emergency Services Integration</h5>
                        <p>High-priority issues auto-forwarded</p>
                        <p>Response time improved by 40%</p>
                    </div>
                    
                    <h4>API Performance:</h4>
                    <div style="background: #e8f5e8; padding: 15px; border-radius: 10px;">
                        <p><strong>Uptime:</strong> 99.8%</p>
                        <p><strong>Average Response Time:</strong> 120ms</p>
                        <p><strong>Data Accuracy:</strong> 99.2%</p>
                        <p><strong>Cost Savings:</strong> ‚Çπ3,40,000/month through automation</p>
                    </div>
                </div>
                <button class="btn" onclick="closeModal()">View Integration Logs</button>
            `);
        }

        // Accessibility features demo
        function showAccessibilityFeatures() {
            showModal(`
                <h3>‚ôø Accessibility & Inclusion Features</h3>
                <div style="margin: 20px 0;">
                    <h4>Multi-Modal Access:</h4>
                    <div class="issue-card">
                        <h5>üé§ Voice Reporting (8 Languages)</h5>
                        <p>Hindi, English, Marathi, Tamil, Telugu, Gujarati, Bengali, Punjabi</p>
                        <p>Voice-to-text accuracy: 96%</p>
                    </div>
                    
                    <div class="issue-card">
                        <h5>üì± SMS Integration</h5>
                        <p>Send SMS to: 9876543210</p>
                        <p>Format: REPORT [LOCATION] [ISSUE]</p>
                        <p>Works on any mobile phone</p>
                    </div>
                    
                    <div class="issue-card">
                        <h5>üìû Missed Call Service</h5>
                        <p>Give missed call to: 1800-CIVIC-01</p>
                        <p>Automated callback for issue reporting</p>
                        <p>Perfect for low-data areas</p>
                    </div>
                    
                    <div class="issue-card">
                        <h5>üåê Offline Capability</h5>
                        <p>Reports cached when offline</p>
                        <p>Auto-sync when connection restored</p>
                        <p>Works in low-bandwidth areas</p>
                    </div>
                    
                    <div style="background: #fff3cd; padding: 15px; border-radius: 10px;">
                        <h5>üìä Impact Statistics:</h5>
                        <p>‚Ä¢ 35% of reports come via SMS/Voice</p>
                        <p>‚Ä¢ 60% increase in rural participation</p>
                        <p>‚Ä¢ 89% user satisfaction across all channels</p>
                    </div>
                </div>
                <button class="btn" onclick="simulateVoiceReport()">Try Voice Report Demo</button>
                <button class="btn btn-secondary" onclick="closeModal()">Close</button>
            `);
        }

        // Add these demo buttons to the admin panel
        document.addEventListener('DOMContentLoaded', function() {
            const adminPanel = document.getElementById('adminPanel');
            const demoSection = document.createElement('div');
            demoSection.innerHTML = `
                <div class="section" style="margin-top: 20px;">
                    <h3>üéØ Feature Demonstrations</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: 15px;">
                        <button class="btn" onclick="showAPIIntegration()">üîó API Integration</button>
                        <button class="btn btn-secondary" onclick="showAccessibilityFeatures()">‚ôø Accessibility</button>
                        <button class="btn btn-success" onclick="simulateVoiceReport()">üé§ Voice/SMS Demo</button>
                        <button class="btn" onclick="showChallenges()">üèÜ Gamification</button>
                    </div>
                </div>
            `;
            adminPanel.appendChild(demoSection);
        });

        console.log("üöÄ CivicConnect Platform Loaded Successfully!");
        console.log("‚ú® Unique Features Active:");
        console.log("  ü§ñ AI-Powered Duplicate Detection & Categorization");
        console.log("  üìä Predictive Analytics for Proactive Resolution");
        console.log("  üéÆ Gamification with Community Verification");
        console.log("  üîó Government API Integration (IGRS)");
        console.log("  üé§ Multi-language Voice & SMS Support");
        console.log("  ‚ôø Accessibility for Digital Literacy Gaps");
        console.log("  üèÜ Community Challenges & Adopt-a-Spot Programs");
    </script>
</body>
</html>